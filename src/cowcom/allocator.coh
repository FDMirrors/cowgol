sub StrDup(s: string): (news: string)
	var len := StrLen(s) + 1;
	news := Alloc(len);
	MemCopy(s, len, news);
end sub;

sub StrDupBraced(s: string): (news: string)
	var len := StrLen(s);
	news := Alloc(len + 3);
	var p := news;
	[p] := '[';
	p := p + 1;
	MemCopy(s, len, p);
	p := p + len;
	[p] := ']';
	p := p + 1;
	[p] := 0;
end sub;


