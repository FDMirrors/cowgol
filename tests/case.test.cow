include "cowgol.coh";
include "tests/_framework.coh";

sub case_uint8(i: uint8): (out: uint8)
	case i is
		when 0: out := 0;
		when 1: out := 1;
		when 2: out := 2;
		when 3: out := 3;
		when *: out := 4;
	end case;
end sub;

sub case_int8(i: uint8): (out: int8)
	case i is
		when -2: out := -2;
		when -1: out := -1;
		when 0: out := 0;
		when 1: out := 1;
		when *: out := 4;
	end case;
end sub;

sub test_case_bytes()
	print("uint8 of 2 == 2"); if case_uint8(2) == 2 then yes(); else no(); end if;
	print("uint8 of 9 == 4"); if case_uint8(9) == 4 then yes(); else no(); end if;

	print("int8 of -2 == -2"); if case_int8(-2) == -2 then yes(); else no(); end if;
	print("int8 of 9 == 4"); if case_int8(9) == 4 then yes(); else no(); end if;
end sub;
test_case_bytes();

